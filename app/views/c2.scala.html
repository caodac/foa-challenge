@import play.twirl.api.HtmlFormat
@import models.Participant

@(webjars: org.webjars.play.WebJarsUtil, part: Participant)

@main(webjars, "NCATS Translator Challenge"){
@navbar(part, 2)
}{
@header(part, 2, "Challenge 2", "Beacon API")
}{
@footer()
}{
<div class="section section-basic">
  <div class="section section-basic">
    <div class="container">
      <p>The Biomedical Data Translator consumes a wide variety of data from many sources. To help standardize the data being consumed, we have specified a <em>Knowledge Beacon</em> application programming interface (API) that can be found <a href="https://github.com/NCATS-Tangerine/translator-knowledge-beacon/">here</a>. The goal of this challenge is to give the participant familiarity with bringing new APIs online. (If you have firewall enabled, please make sure that you allow incoming traffic from our server <b>128.231.10.251</b>.)</p>
        <p>As you have seen, Lothar Collatz's conjecture produces <a href="https://oeis.org/A006577">sequences</a> that start from a natural number and have the following pattern: </p>
        <ol>
          <li>If <em>n</em> is even, divide <em>n</em> by 2.</li>
          <li>If <em>n</em> is odd, multiply <em>n</em> by 3 and add 1.</li>
        </ol>
        <p><b>Collatz siblings</b> are numbers that have the same path length; e.g., numbers 3 and 20 are siblings because both have path length 8. (Note that <i>path length</i> as defined here is the cardinality of the Collatz sequence starting from a given position.) Provide an API that produces Collatz siblings for a given path length <i>P</i> where 1 &le; <i>P</i> &le; 512.</p>

        <p>Follow the specification in this <a href='@routes.Assets.versioned("resources/swagger.yaml")'>example</a> Swagger API definition
        file.</p>

        <form class="form-inline"  method="POST"
            action='@controllers.routes.ChallengeController.submit(part.id.toString, 2)'>
        <input type="hidden" name="uuid" value="@part.id">
        Provide the URI to your API here:&nbsp;
        <div class="input-group">
          <input type="text" class="form-control"
                 name="API-URI"
                 placeholder="API endpoint"
                 style="width:400px"
                 aria-describedby="API-URI"
                 @if(session.containsKey("API-URI")){value='@session.get("API-URI")'}>
        </div>

        @if(part.stage == 2) {
        <br><input class="btn btn-@if(part.stage>2){success}else{primary}"
                   type="submit"/>
        }
      </form>
    </div>
  </div>
</div>
}
